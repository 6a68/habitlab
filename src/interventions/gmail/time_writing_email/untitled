frontend

setInterval(function() {
  if (window.location.href.indexOf('?compose=new') != -1) {
    console.log('composing email via the compose button')
  } else if (document.activeElement.getAttribute('role') == 'textbox') {
    console.log('replying to some email')
  } else {
    console.log('not writing email')
  }
}, 1000)



backend


chrome.runtime.onButtonClicked.addListener(function(message, sender, sendResponse) {
  var b = document.getElementsByClassName('T-I J-J5-Ji T-I-KE L3');
  b.addEventListener('click', function() {      
  });
}