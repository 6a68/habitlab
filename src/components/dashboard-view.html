<link rel="import" href="../bower_components/chart-elements/chart-doughnut.html">
<link rel="import" href="../bower_components/chart-elements/chart-bar.html">
<link rel="import" href="../bower_components/chart-elements/chart-horizontal-bar.html">
<link rel="import" href="../bower_components/chart-elements/chart-line.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">

<link rel="import" href="site-goal-view.html">
<link rel="import" href="badges-view.html">

<dom-module id="dashboard-view">
  <style>
    :host {
      display: block;
      width: 100%;
      height: 100%;
    }
    .container {
      text-align: center;
      font-family: 'Open Sans', sans-serif;      
    }
    .title {
      font-size: 3em;
      margin-top: 0.3em;
      font-family: 'Open Sans', sans-serif;
    }
    .description {
      font-size: 2.2em;
      margin-top: 0.8em;
      font-family: 'Open Sans', sans-serif;
    }
    .buttons {
      text-align: center;
      padding-top: 3em;
      padding-bottom: 3em;
    }
    button {
      position: absolute;
      left: 50%;
      cursor: pointer;
      transform: translateX(-50%) translateY(-50%);
      font-size: 1em;
    }
    hr {
      margin-top: 2em;
    }
  </style>
  <template>

    <div class="container">
      <div class="title">HabitLab Analytics</div>
    
      <div class="description">How much time did I save due to my interventions?</div>
      <chart-horizontal-bar data="[[timeSavedData]]" options="[[timeSavedOptions]]" style="width: 1000px"></chart-horizontal-bar>

      <hr>

      <div class="description">What progress have I made towards my goals?</div>
      <center>
        <paper-tabs id="graphsOfGoalsTab" style="width: 500px;" selected={{selected}}>
          
          <template is="dom-repeat" items="{{sites}}" as="site">
            <paper-tab>{{site}}</paper-tab>
          </template>
          <paper-tab>overview</paper-tab>
        </paper-tabs>
      </center>

      <iron-pages selected={{selected}}>
        <template is="dom-repeat" items="{{sites}}" as="site">
          <div><site-goal-view site="{{site}}"></site-goal-view></div>
        </template>
        <div>
          <h4>My Daily Overview</h4>
          <chart-horizontal-bar data="[[goalOverviewData]]" options="[[goalOverviewOptions]]" style="width: 500px"></chart-horizontal-bar>
        </div>
      </iron-pages>

      <hr>

      <!-- Badges unimplemented yet -->
      <!--
      <div class="description">Which badges have I earned?</div>
      <badges-view></badges-view>
      <hr>
      -->

      <div class="description">How many times were my interventions deployed today?</div>
      <chart-horizontal-bar data="[[interventionFreqData]]" options="[[interventionFreqOptions]]" style="width: 500px"></chart-horizontal-bar>

      <hr>

      <div class="description">How much time did I spend on my most visited websites?</div>   
      <chart-doughnut data="[[donutdata]]" style="width: 600px"></chart-doughnut>      
      <div class="buttons"><button raised class="timeSpentButton" value="neverClicked" on-click="timeSpentButtonAction">Compare with Yesterday</button></div>

    </div>


  </template>
  <script src="dashboard-view.js"></script>
</dom-module>
